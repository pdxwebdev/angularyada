<!-- public/index.html -->
<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <base href="/">

    <title>Yada</title>

    <!-- CSS -->
    <link rel="stylesheet" href="libs/bootstrap/dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="css/style.css"> <!-- custom styles -->

    <!-- JS -->
    <script src="libs/angular/angular.js"></script>
    <script src="libs/angular-route/angular-route.min.js"></script>
    <script src="libs/angular-resource/angular-resource.min.js"></script>
    <script src="libs/angular-ui-router/release/angular-ui-router.min.js"></script>
    <script src="libs/spin.js/spin.js"></script>
    <script src="libs/angular-spinner/angular-spinner.js"></script>

    <!-- ANGULAR CUSTOM -->
    <script src="js/controllers/IdentityCtrl.js"></script>
    <script src="js/services/IdentityService.js"></script>
    <script src="js/app.js"></script>
    <script src="js/config.js"></script>

    <!-- QR CODE LIBS -->
    <script type="text/javascript" src="libs/jsqrcode/grid.js"></script>
    <script type="text/javascript" src="libs/jsqrcode/version.js"></script>
    <script type="text/javascript" src="libs/jsqrcode/detector.js"></script>
    <script type="text/javascript" src="libs/jsqrcode/formatinf.js"></script>
    <script type="text/javascript" src="libs/jsqrcode/errorlevel.js"></script>
    <script type="text/javascript" src="libs/jsqrcode/bitmat.js"></script>
    <script type="text/javascript" src="libs/jsqrcode/datablock.js"></script>
    <script type="text/javascript" src="libs/jsqrcode/bmparser.js"></script>
    <script type="text/javascript" src="libs/jsqrcode/datamask.js"></script>
    <script type="text/javascript" src="libs/jsqrcode/rsdecoder.js"></script>
    <script type="text/javascript" src="libs/jsqrcode/gf256poly.js"></script>
    <script type="text/javascript" src="libs/jsqrcode/gf256.js"></script>
    <script type="text/javascript" src="libs/jsqrcode/decoder.js"></script>
    <script type="text/javascript" src="libs/jsqrcode/qrcode.js"></script>
    <script type="text/javascript" src="libs/jsqrcode/findpat.js"></script>
    <script type="text/javascript" src="libs/jsqrcode/alignpat.js"></script>
    <script type="text/javascript" src="libs/jsqrcode/databr.js"></script>
    <script type="text/javascript" src="libs/qrwebcam/qrwebcam.js"></script>
    <script type="text/javascript" src="libs/qrjs/qr.js"></script>

</head>
<body ng-app="yada">
	<div class="container" ng-controller="IdentityController">

	    <!-- HEADER -->
	    <nav class="navbar navbar-inverse">
	        <div class="navbar-header">
	            <a class="navbar-brand" href="/">Yada</a>
	        </div>

            <ul class="nav navbar-nav pull-right">
                <li>
                    <form name="addressForm" onSubmit="javascript: void(0);" method="post" class="input-group">
                        <input type="text" placeholder="Identity URL" ng-model="address" class="form-control" />
                        <span class="input-group-btn">
                            <input type="submit" value="Go" ng-click="go()" class="btn btn-primary" />
                            <input type="submit" value="Add" ng-click="add()" class="btn btn-primary" ng-class="{'disabled':!identity.data || !address}" />
                        </span>
                    </form>
                    <br/>
                    <form onSubmit="javascript: void(0);" class="input-group">
                        <div class="form-inline">
                            <div class="form-group">
                                <input type="text" placeholder="Profile URL" ng-model="idaddress" class="form-control" />
                            </div>
                            <div class="form-group">
                                <input type="text" id="identitySerializedd" placeholder="Identity Object (This field should only be populated when editing your profile!)" ng-model="identitySerialized" class="form-control" />
                            </div>
                            <div class="form-group">
                                <span class="input-group-btn">
                                    <input type="submit" value="Go" ng-click="goid()" class="btn btn-primary" ng-class="{'disabled':identitySerialized.length == 0}" />
                                </span>
                            </div>
                        </div>
                    </form>
                    <br>
                    <form ng-if="address.indexOf('localhost') < 0" onSubmit="javascript: void(0);" method="post" class="input-group">
                        <input type="text" placeholder="Context URL(optional)" class="form-control" ng-model="context" />
                        <span class="input-group-btn">
                            <input type="submit" value="Add with Context" ng-click="request()" class="btn btn-primary" ng-class="{'disabled':!identity.data || !context}" />
                        </span>
                    </form>
                </li>
            </ul>
	    </nav>
	    <div ui-view>
            <!-- view code -->
            
            <!-- end view code -->
        </div>
        <a href="http://worldwide.espacenet.com/publicationDetails/biblio;jsessionid=TnZAC8Wd9arlq-sVWpwvB4vE.espacenet_levelx_prod_1?FT=D&date=20120503&DB=worldwide.espacenet.com&locale=en_EP&CC=US&NR=2012109830A1&KC=A1&ND=4" target="_blank">Patent Pending</a> - That said, this is an open source / open protocol system, but if you make money using the code or protocol, I will want some money. Otherwise, enjoy! :D

	</div>
    <div class="select">
        <label for="videoSource">Video source: </label><select id="videoSource"></select>
    </div>
    <div id="mainbody" style="display: inline;">
        <table class="tsel" border="0" width="100%">
            <tbody>
                <tr>
                    <td valign="top" align="center" width="50%">
                        <table class="tsel" border="0">
                            <tbody>
                                <tr>
                                    <td><img class="selector" id="webcamimg" src="vid.png" onclick="setwebcam()" align="left" style="opacity: 1;"></td>
                                    <td><img class="selector" id="qrimg" src="cam.png" onclick="setimg()" align="right" style="opacity: 0.2;"></td>
                                </tr>
                                <tr>
                                    <td colspan="2" align="center">
                                        <div id="outdiv"><video id="v" autoplay=""></video></div>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </td>
                </tr>
                <tr>
                    <td colspan="3" align="center">
                        <img src="down.png">
                    </td>
                </tr>
                <tr>
                    <td colspan="3" align="center">
                        <div id="result">- scanning -</div>
                    </td>
                </tr>
            </tbody>
        </table>
    </div>
    <canvas id="qr-canvas" width="800" height="600" style="width: 800px; height: 600px; display: none;"></canvas>
    <script type="text/javascript">load();</script>
</body>
</html>
